import React, { useEffect, useState } from "react";
import Logo from "./Logo";
import ThemeToggle from "./themeToggle";
import { gsap } from "gsap";
import { Link, navigate } from "gatsby";

export default function Nav() {
  const [expanded, setExpanded] = useState(false);
  const manageNav = () => {
    expanded ? collapseNav() : expandNav();
  };
  const expandNav = () => {
    const tl = gsap.timeline();
    tl.to("#navfull", {
      transform: "translateY(0rem)",
    });
    tl.to("#innernav", {
      opacity: 1,
    }).to(".li", {
      stagger: 0.1,
      opacity: 1,
    });
  };

  const collapseNav = (route) => {
    const tl = gsap.timeline();
    tl.to(".li", {
      opacity: 0,
    }).to("#navfull", {
      transform: "translateY(-20rem)",
    });
    setExpanded(!expanded);
    navigate(route);
  };

  useEffect(() => {}, []);
  return (
    <header className="absolute px-4 z-20 top-0 left-0 right-0">
      <div id="navfull" className="absolute px-4 translate-y-[-20rem] top-0 left-0 right-0 h-[20rem] bg-white dark:bg-black">
        <div className="pt-24 pr-2">
          <div className="flex flex-col items-start  justify-start text-2xl dark:text-white text-black text-[16px] font-medium">
            <div onClick={() => collapseNav("/about")} className="my-2 py-2 mx-4 opacity-0 li">
              about
            </div>
            <div onClick={() => collapseNav("/work")} className="my-2 py-2 mx-4 opacity-0 li">
              work
            </div>
            <a target="_blank" href="https://drive.google.com/file/d/1CRN8hA7NAEa6QPyTc709xoSL6i61hFls/view?usp=sharing" className="mx-4 dark:hidden block">
              resume
            </a>
            <a target="_blank" href="https://drive.google.com/file/d/1PpbN9QciKGCpvg4alTA0jiqYd28T4RdH/view?usp=sharing" className="mx-4 hidden dark:block">
              resume
            </a>
          </div>
        </div>
      </div>
      <nav className="container  relative z-50 rounded-xl max-w-2xl dark:bg-black/20 bg-white/40 p-4  mx-auto mt-6 flex items-center justify-between">
        <div className="flex  items-center justify-center">
          <Link to="/">
            <Logo />
          </Link>
          <div className="md:flex hidden items-center  justify-center ml-8 dark:text-white text-black text-[16px] font-medium">
            <Link to="/about" className="mx-4">
              about
            </Link>
            <Link to="/work" className="mx-4">
              work
            </Link>
            <a target="_blank" href="https://drive.google.com/file/d/1CRN8hA7NAEa6QPyTc709xoSL6i61hFls/view?usp=sharing" className="mx-4 dark:hidden block">
              resume
            </a>
            <a target="_blank" href="https://drive.google.com/file/d/1PpbN9QciKGCpvg4alTA0jiqYd28T4RdH/view?usp=sharing" className="mx-4 hidden dark:block">
              resume
            </a>
            <div className="md:hidden">
              <ThemeToggle />
            </div>
          </div>
        </div>
        <div className="flex items-center justify-center">
          <a target="_blank" href="https://www.linkedin.com/in/sarimkhanweb3/" className="mx-2 sm:mx-3">
            <svg width="18" height="18" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M4.07396 0.178223C2.36817 0.178223 0.985352 1.56792 0.985352 3.2822C0.985352 4.99648 2.36817 6.38618 4.07396 6.38618C5.77975 6.38618 7.16257 4.99648 7.16257 3.2822C7.16257 1.56792 5.77975 0.178223 4.07396 0.178223ZM2.70687 3.2822C2.70687 2.52342 3.31894 1.90831 4.07396 1.90831C4.82898 1.90831 5.44105 2.52342 5.44105 3.2822C5.44105 4.04098 4.82898 4.6561 4.07396 4.6561C3.31894 4.6561 2.70687 4.04098 2.70687 3.2822Z"
                className="dark:fill-[#ECEDEE] fill-black"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M17.441 6.89503C15.4401 6.89503 13.5212 7.69384 12.1064 9.11572C10.6916 10.5376 9.89673 12.466 9.89673 14.4769V22.3132C9.89673 22.7909 10.2821 23.1782 10.7575 23.1782H15.2131C15.6885 23.1782 16.0739 22.7909 16.0739 22.3132V14.4769C16.0739 14.1125 16.2179 13.763 16.4743 13.5054C16.7307 13.2477 17.0784 13.103 17.441 13.103C17.8036 13.103 18.1513 13.2477 18.4077 13.5054C18.6641 13.763 18.8081 14.1125 18.8081 14.4769V22.3132C18.8081 22.7909 19.1935 23.1782 19.6688 23.1782H24.1245C24.5999 23.1782 24.9853 22.7909 24.9853 22.3132V14.4769C24.9853 12.466 24.1905 10.5376 22.7756 9.11572C21.3608 7.69384 19.4419 6.89503 17.441 6.89503ZM17.441 8.62512C15.8967 8.62512 14.4157 9.24165 13.3237 10.339C12.2317 11.4365 11.6182 12.9249 11.6182 14.4769V21.4481H14.3524V14.4769C14.3524 13.6536 14.6778 12.8641 15.257 12.282C15.8362 11.6999 16.6218 11.3729 17.441 11.3729C18.2601 11.3729 19.0457 11.6999 19.625 12.282C20.2042 12.8641 20.5296 13.6536 20.5296 14.4769V21.4481H23.2638V14.4769C23.2638 12.9249 22.6503 11.4365 21.5583 10.339C20.4663 9.24165 18.9853 8.62512 17.441 8.62512Z"
                className="dark:fill-[#ECEDEE] fill-black"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M0.985352 8.87955C0.985352 8.4018 1.37073 8.0145 1.84611 8.0145H6.30181C6.77719 8.0145 7.16257 8.4018 7.16257 8.87955V22.3132C7.16257 22.7909 6.77719 23.1782 6.30181 23.1782H1.84611C1.37073 23.1782 0.985352 22.7909 0.985352 22.3132V8.87955ZM2.70687 9.74462V21.4481H5.44105V9.74462H2.70687Z"
                className="dark:fill-[#ECEDEE] fill-black"
              />
            </svg>
          </a>

          <a target="_blank" href="https://www.behance.net/sarimzai" className="mx-2 sm:mx-3">
            <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M4.76226 8.38947C4.6518 8.38947 4.56226 8.47901 4.56226 8.58947V10.9653C4.56226 11.0757 4.6518 11.1653 4.76226 11.1653H7.51599C8.28251 11.1653 8.90389 10.5439 8.90389 9.77737C8.90389 9.01085 8.28251 8.38947 7.51599 8.38947H4.76226Z"
                className="fill-black dark:fill-white"
              />
              <path
                d="M4.76226 12.9446C4.6518 12.9446 4.56226 13.0342 4.56226 13.1446V16.0187C4.56226 16.1291 4.6518 16.2187 4.76226 16.2187H7.69393C8.59802 16.2187 9.33094 15.4857 9.33094 14.5817C9.33094 13.6776 8.59802 12.9446 7.69393 12.9446H4.76226Z"
                className="fill-black dark:fill-white"
              />
              <path
                d="M16.1369 13.087C16.0882 13.087 16.0488 13.0475 16.0488 12.9989C16.0488 12.0255 16.8378 11.2364 17.8112 11.2364H18.2009C19.1743 11.2364 19.9634 12.0255 19.9634 12.9989C19.9634 13.0475 19.9239 13.087 19.8752 13.087H16.1369Z"
                className="fill-black dark:fill-white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M12.5704 11.9933C12.5065 11.9126 12.4398 11.8345 12.3707 11.7589C12.8031 11.0756 13.0228 10.2795 13.0023 9.47155C13.0203 8.7769 12.8812 8.08694 12.5952 7.45318C12.3164 6.82308 11.8706 6.28115 11.3062 5.8859L11.2949 5.87806C10.7624 5.51248 10.1588 5.26365 9.52366 5.14772C8.91381 5.02154 8.29211 4.96138 7.66934 4.96831H2C1.17157 4.96831 0.5 5.63988 0.5 6.46831V18.4251C0.5 19.2535 1.17157 19.9251 2 19.9251H7.80064C8.45751 19.9255 9.11176 19.8423 9.74759 19.6774C10.4012 19.5083 11.0205 19.227 11.5778 18.8459L11.5852 18.8408C12.1414 18.4556 12.6024 17.9497 12.9343 17.3619C13.1477 17.7708 13.4102 18.1534 13.7168 18.501C13.7254 18.5108 13.7341 18.5204 13.743 18.53C14.2815 19.1093 14.943 19.5608 15.6787 19.8515L15.6975 19.8588C16.4532 20.1458 17.2561 20.2882 18.0643 20.279C19.2269 20.3082 20.3738 20.0017 21.3666 19.3956C21.3957 19.3779 21.4242 19.3591 21.452 19.3394C22.4989 18.5979 23.2537 17.514 23.5843 16.2748C23.6497 16.0295 23.651 15.7752 23.5928 15.5348C23.7051 15.3424 23.776 15.1222 23.7928 14.886C23.8493 14.0935 23.7814 13.297 23.5915 12.5254L23.5901 12.5197C23.3965 11.7461 23.0578 11.0162 22.5921 10.3686L22.5765 10.3472C22.0834 9.6865 21.4469 9.14608 20.715 8.76621C20.7053 8.76114 20.6955 8.75618 20.6856 8.75133C19.8867 8.35874 19.0063 8.16002 18.1163 8.17103C17.3027 8.16732 16.4964 8.32493 15.7442 8.63484L15.7345 8.63885C15.0271 8.93611 14.3857 9.37089 13.8479 9.91808L13.8361 9.93025C13.2964 10.492 12.8781 11.1588 12.6077 11.8892L12.6067 11.892C12.5943 11.9257 12.5822 11.9594 12.5704 11.9933ZM9.82757 11.9239C10.4027 12.0626 10.918 12.3758 11.3046 12.8168C11.371 12.8925 11.4336 12.972 11.492 13.055C11.52 13.0976 11.547 13.1407 11.573 13.1844C11.8903 13.7187 12.0508 14.3327 12.0341 14.9559C12.0504 15.4999 11.9294 16.0392 11.6822 16.5241C11.4589 16.9578 11.1322 17.3299 10.7311 17.6077C10.317 17.8908 9.85681 18.0999 9.37104 18.2255C9.14132 18.285 8.90861 18.3314 8.67407 18.3644C8.38536 18.405 8.09386 18.4253 7.80172 18.4251H2V6.46831H7.67808C8.20201 6.4619 8.72507 6.5129 9.23789 6.62038C9.67122 6.69705 10.0831 6.86558 10.4458 7.11462C10.7879 7.35416 11.0576 7.68292 11.2257 8.06508C11.4257 8.5062 11.5202 8.98782 11.5015 9.47176C11.5207 9.94992 11.4066 10.423 11.1736 10.8387C11.148 10.8843 11.121 10.9293 11.0925 10.9735C10.7798 11.3941 10.3116 11.7225 9.82757 11.9239ZM16.0018 14.9935C15.9985 14.9224 15.9985 14.851 16.0018 14.7793H22.2966C22.3057 14.6525 22.3108 14.5255 22.3119 14.3986C22.3133 14.2355 22.3082 14.0725 22.2966 13.91C22.2816 13.6986 22.2555 13.4881 22.2185 13.2793C22.1951 13.1468 22.1672 13.0149 22.135 12.8839C21.9875 12.2944 21.7294 11.7381 21.3743 11.2443C21.0169 10.7653 20.5552 10.3733 20.024 10.0976C19.433 9.80713 18.7811 9.66094 18.1223 9.67109C17.5026 9.66656 16.8883 9.7858 16.3156 10.0217C15.7912 10.2421 15.316 10.5643 14.9178 10.9695C14.5207 11.3828 14.2132 11.8731 14.0144 12.41C13.8012 12.9896 13.6948 13.6029 13.7006 14.2202C13.6909 14.8462 13.7939 15.469 14.0049 16.0587C14.1842 16.5928 14.4687 17.0858 14.8417 17.5088C15.2277 17.924 15.702 18.2478 16.23 18.4565C16.8187 18.68 17.4448 18.7894 18.0747 18.7787C18.9585 18.8062 19.831 18.5756 20.585 18.1153C20.8788 17.9073 21.1408 17.6623 21.3656 17.3882C21.6376 17.0566 21.8551 16.6823 22.0087 16.2793C22.0573 16.1517 22.0995 16.0211 22.135 15.8882H20.0335C19.9799 16.0301 19.9047 16.1619 19.8115 16.2793C19.7093 16.4081 19.5852 16.5197 19.444 16.6084C19.0783 16.85 18.6464 16.9725 18.2078 16.9591C17.9176 16.9892 17.6242 16.9594 17.346 16.8713C17.0679 16.7832 16.8109 16.6389 16.5913 16.4473C16.5434 16.3932 16.4982 16.3371 16.4558 16.2793C16.1809 15.9046 16.0229 15.4573 16.0018 14.9935Z"
                className="fill-black dark:fill-white"
              />
              <path
                d="M20.4466 6.39587C20.4443 6.17656 20.2659 5.99994 20.0466 5.99994H16.0217C15.8008 5.99994 15.6217 6.17903 15.6217 6.39994V7.47122C15.6217 7.69213 15.8008 7.87122 16.0217 7.87122H20.0575C20.28 7.87122 20.4597 7.68965 20.4575 7.46716L20.4466 6.39587Z"
                className="fill-black dark:fill-white"
              />
            </svg>
          </a>
          <a target="_blank" href="https://www.instagram.com/ux.by.sarim/" className="mx-2 sm:mx-3">
            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_2_504)">
                <path
                  d="M8.896 0.678223C11.072 0.678223 11.344 0.678223 12.192 0.726223C13.04 0.758223 13.632 0.902223 14.144 1.09422C14.656 1.30222 15.104 1.57422 15.552 2.02222C16 2.45422 16.272 2.90222 16.48 3.43022C16.672 3.94222 16.816 4.51822 16.848 5.38222C16.88 6.23022 16.896 6.50222 16.896 8.67822C16.896 10.8542 16.88 11.1262 16.848 11.9742C16.816 12.8222 16.672 13.3982 16.48 13.9102C16.272 14.4382 16 14.8862 15.552 15.3342C15.104 15.7822 14.656 16.0542 14.144 16.2622C13.632 16.4542 13.04 16.5822 12.192 16.6302C11.344 16.6622 11.072 16.6782 8.896 16.6782C6.72 16.6782 6.448 16.6622 5.6 16.6302C4.752 16.5822 4.16 16.4542 3.664 16.2622C3.136 16.0542 2.688 15.7822 2.24 15.3342C1.792 14.8862 1.52 14.4382 1.312 13.9102C1.12 13.3982 0.991996 12.8222 0.943996 11.9742C0.911996 11.1262 0.895996 10.8542 0.895996 8.67822C0.895996 6.50222 0.911996 6.23022 0.943996 5.38222C0.975996 4.51822 1.12 3.94222 1.312 3.43022C1.52 2.90222 1.792 2.45422 2.24 2.02222C2.688 1.57422 3.136 1.30222 3.664 1.09422C4.16 0.902223 4.752 0.758223 5.6 0.726223C6.448 0.678223 6.72 0.678223 8.896 0.678223ZM8.176 2.11822C6.688 2.11822 6.4 2.11822 5.664 2.16622C4.88 2.19822 4.464 2.32622 4.176 2.43822C3.808 2.58222 3.536 2.75822 3.264 3.03022C2.992 3.30222 2.8 3.57422 2.656 3.95822C2.544 4.23022 2.416 4.66222 2.384 5.44622C2.352 6.27822 2.336 6.53422 2.336 8.67822C2.336 10.8062 2.352 11.0622 2.384 11.9102C2.416 12.6782 2.544 13.1102 2.656 13.3822C2.8 13.7662 2.976 14.0222 3.264 14.3102C3.552 14.5982 3.808 14.7582 4.176 14.9022C4.464 15.0142 4.88 15.1422 5.664 15.1902C6.512 15.2222 6.768 15.2382 8.896 15.2382C11.04 15.2382 11.28 15.2222 12.128 15.1902C12.912 15.1422 13.328 15.0142 13.616 14.9022C13.984 14.7582 14.256 14.5822 14.528 14.3102C14.816 14.0382 14.992 13.7662 15.136 13.3822C15.248 13.1102 15.376 12.6782 15.408 11.9102C15.44 11.0622 15.456 10.8062 15.456 8.67822C15.456 6.53422 15.44 6.27822 15.408 5.44622C15.376 4.66222 15.248 4.23022 15.136 3.95822C14.992 3.59022 14.816 3.31822 14.528 3.03022C14.256 2.75822 13.984 2.58222 13.616 2.43822C13.328 2.32622 12.912 2.19822 12.128 2.16622C11.28 2.11822 11.04 2.11822 8.896 2.11822C8.624 2.11822 8.4 2.11822 8.176 2.11822ZM13.168 3.44622C13.696 3.44622 14.128 3.87822 14.128 4.40622C14.128 4.93422 13.696 5.36622 13.168 5.36622C12.64 5.36622 12.208 4.93422 12.208 4.40622C12.208 3.87822 12.64 3.44622 13.168 3.44622ZM8.896 4.56622C11.168 4.56622 13.008 6.40622 13.008 8.67822C13.008 10.9502 11.168 12.7902 8.896 12.7902C6.624 12.7902 4.784 10.9502 4.784 8.67822C4.784 6.40622 6.624 4.56622 8.896 4.56622ZM8.896 6.00622C7.424 6.00622 6.224 7.20622 6.224 8.67822C6.224 10.1502 7.424 11.3342 8.896 11.3342C10.368 11.3342 11.568 10.1502 11.568 8.67822C11.568 7.20622 10.368 6.00622 8.896 6.00622Z"
                  className="dark:fill-white fill-black"
                />
              </g>
              <defs>
                <clipPath id="clip0_2_504">
                  <rect width="16" height="16" fill="white" transform="translate(0.895996 0.678223)" />
                </clipPath>
              </defs>
            </svg>
          </a>
          <div className="border-l dark:border-l-white/20 border-l-black/20 h-[20px] mx-1"></div>
          <ThemeToggle />

          <button
            onClick={() => {
              manageNav();
              setExpanded(!expanded);
            }}
            className="py-1 sm:hidden  ml-2"
          >
            {expanded && (
              <div className="flex relative flex-col h-8 w-8 items-center justify-evenly">
                <div className="w-5 absolute rotate-45 h-[2px] bg-black dark:bg-white"></div>
                <div className="w-5 absolute -rotate-45 h-[2px] bg-black dark:bg-white"></div>
              </div>
            )}
            {!expanded && (
              <div className="flex flex-col h-8 w-8 items-center justify-evenly">
                <div className="w-5 h-[2px] bg-black dark:bg-white"></div>
                <div className="w-5 h-[2px] bg-black dark:bg-white"></div>
                <div className="w-5 h-[2px] bg-black dark:bg-white"></div>
              </div>
            )}
          </button>
        </div>
      </nav>
    </header>
  );
}
